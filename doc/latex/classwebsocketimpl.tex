\hypertarget{classwebsocketimpl}{\section{websocketimpl Class Reference}
\label{classwebsocketimpl}\index{websocketimpl@{websocketimpl}}
}


The websocketimpl class Websocket decoder.  




{\ttfamily \#include $<$websocketimpl.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{\hyperlink{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{websocketimpl} ()}\label{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}

\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{websocketimpl\-::websocketimpl} initialize websocket decoder \end{DoxyCompactList}\item 
\hypertarget{classwebsocketimpl_a97a91164ff71d904b908f6c425c7c521}{bool {\bfseries web\-Socket\-Hand\-Shake} (std\-::map$<$ std\-::string, std\-::string $>$ headers)}\label{classwebsocketimpl_a97a91164ff71d904b908f6c425c7c521}

\item 
Q\-List$<$ std\-::string $>$ \hyperlink{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{websocket\-Parse} (Q\-Tcp\-Socket $\ast$socket)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{websocketimpl\-::websocket\-Parse} Websocket decoder state machine \end{DoxyCompactList}\item 
Q\-Byte\-Array \hyperlink{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}{unmask} (Q\-Byte\-Array masked\-Data, Q\-Byte\-Array mask)
\item 
\hypertarget{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{void \hyperlink{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{init\-Websocket} ()}\label{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}

\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{websocketimpl\-::init\-Websocket} called at each initial state of the state machine \end{DoxyCompactList}\item 
int \hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{get\-Current\-State} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{websocketimpl\-::get\-Current\-State} retrieve current state of the state machine \end{DoxyCompactList}\item 
void \hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{set\-Debug} (bool debug)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{websocketimpl\-::set\-Debug} set debug state for websocket decoder \end{DoxyCompactList}\item 
void \hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{set\-Open} (bool open)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{websocketimpl\-::set\-Open} set websocket opening state \end{DoxyCompactList}\item 
bool \hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{is\-Open} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{websocketimpl\-::is\-Open} to know if websocket is openned or not \end{DoxyCompactList}\item 
\hypertarget{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{\hyperlink{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{websocketimpl} ()}\label{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}

\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a8d0888448cc98685c7f941fbe447ecd0}{websocketimpl\-::websocketimpl} initialize websocket decoder \end{DoxyCompactList}\item 
\hypertarget{classwebsocketimpl_a97a91164ff71d904b908f6c425c7c521}{bool {\bfseries web\-Socket\-Hand\-Shake} (std\-::map$<$ std\-::string, std\-::string $>$ headers)}\label{classwebsocketimpl_a97a91164ff71d904b908f6c425c7c521}

\item 
Q\-List$<$ std\-::string $>$ \hyperlink{classwebsocketimpl_a5ec440436383328244050d25afdf7ed6}{websocket\-Parse} (Q\-Tcp\-Socket $\ast$socket)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{websocketimpl\-::websocket\-Parse} Websocket decoder state machine \end{DoxyCompactList}\item 
Q\-Byte\-Array \hyperlink{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}{unmask} (Q\-Byte\-Array masked\-Data, Q\-Byte\-Array mask)
\item 
\hypertarget{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{void \hyperlink{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{init\-Websocket} ()}\label{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}

\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a67fa07befa5af268b8f035ae4d33cd55}{websocketimpl\-::init\-Websocket} called at each initial state of the state machine \end{DoxyCompactList}\item 
int \hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{get\-Current\-State} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{websocketimpl\-::get\-Current\-State} retrieve current state of the state machine \end{DoxyCompactList}\item 
void \hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{set\-Debug} (bool debug)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{websocketimpl\-::set\-Debug} set debug state for websocket decoder \end{DoxyCompactList}\item 
void \hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{set\-Open} (bool open)
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{websocketimpl\-::set\-Open} set websocket opening state \end{DoxyCompactList}\item 
bool \hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{is\-Open} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{websocketimpl\-::is\-Open} to know if websocket is openned or not \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The websocketimpl class Websocket decoder. 

The M\-I\-T License (M\-I\-T)

Copyright (c) 2015 Bertrand Martel

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \char`\"{}\-Software\char`\"{}), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions\-:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

T\-H\-E S\-O\-F\-T\-W\-A\-R\-E I\-S P\-R\-O\-V\-I\-D\-E\-D \char`\"{}\-A\-S I\-S\char`\"{}, W\-I\-T\-H\-O\-U\-T W\-A\-R\-R\-A\-N\-T\-Y O\-F A\-N\-Y K\-I\-N\-D, E\-X\-P\-R\-E\-S\-S O\-R I\-M\-P\-L\-I\-E\-D, I\-N\-C\-L\-U\-D\-I\-N\-G B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O T\-H\-E W\-A\-R\-R\-A\-N\-T\-I\-E\-S O\-F M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y, F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E A\-N\-D N\-O\-N\-I\-N\-F\-R\-I\-N\-G\-E\-M\-E\-N\-T. I\-N N\-O E\-V\-E\-N\-T S\-H\-A\-L\-L T\-H\-E A\-U\-T\-H\-O\-R\-S O\-R C\-O\-P\-Y\-R\-I\-G\-H\-T H\-O\-L\-D\-E\-R\-S B\-E L\-I\-A\-B\-L\-E F\-O\-R A\-N\-Y C\-L\-A\-I\-M, D\-A\-M\-A\-G\-E\-S O\-R O\-T\-H\-E\-R L\-I\-A\-B\-I\-L\-I\-T\-Y, W\-H\-E\-T\-H\-E\-R I\-N A\-N A\-C\-T\-I\-O\-N O\-F C\-O\-N\-T\-R\-A\-C\-T, T\-O\-R\-T O\-R O\-T\-H\-E\-R\-W\-I\-S\-E, A\-R\-I\-S\-I\-N\-G F\-R\-O\-M, O\-U\-T O\-F O\-R I\-N C\-O\-N\-N\-E\-C\-T\-I\-O\-N W\-I\-T\-H T\-H\-E S\-O\-F\-T\-W\-A\-R\-E O\-R T\-H\-E U\-S\-E O\-R O\-T\-H\-E\-R D\-E\-A\-L\-I\-N\-G\-S I\-N T\-H\-E S\-O\-F\-T\-W\-A\-R\-E. websocketimpl.\-h

Websocket protocol decoder

\begin{DoxyAuthor}{Author}
Bertrand Martel 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\-0 
\end{DoxyVersion}


\subsection{Member Function Documentation}
\hypertarget{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{\index{websocketimpl@{websocketimpl}!get\-Current\-State@{get\-Current\-State}}
\index{get\-Current\-State@{get\-Current\-State}!websocketimpl@{websocketimpl}}
\subsubsection[{get\-Current\-State}]{\setlength{\rightskip}{0pt plus 5cm}int websocketimpl\-::get\-Current\-State (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}


\hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{websocketimpl\-::get\-Current\-State} retrieve current state of the state machine 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{\index{websocketimpl@{websocketimpl}!get\-Current\-State@{get\-Current\-State}}
\index{get\-Current\-State@{get\-Current\-State}!websocketimpl@{websocketimpl}}
\subsubsection[{get\-Current\-State}]{\setlength{\rightskip}{0pt plus 5cm}int websocketimpl\-::get\-Current\-State (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}


\hyperlink{classwebsocketimpl_ad2c9ac95e4498257c9d19bca9f509777}{websocketimpl\-::get\-Current\-State} retrieve current state of the state machine 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{\index{websocketimpl@{websocketimpl}!is\-Open@{is\-Open}}
\index{is\-Open@{is\-Open}!websocketimpl@{websocketimpl}}
\subsubsection[{is\-Open}]{\setlength{\rightskip}{0pt plus 5cm}bool websocketimpl\-::is\-Open (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}


\hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{websocketimpl\-::is\-Open} to know if websocket is openned or not 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{\index{websocketimpl@{websocketimpl}!is\-Open@{is\-Open}}
\index{is\-Open@{is\-Open}!websocketimpl@{websocketimpl}}
\subsubsection[{is\-Open}]{\setlength{\rightskip}{0pt plus 5cm}bool websocketimpl\-::is\-Open (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}


\hyperlink{classwebsocketimpl_a19c16ec206b8ca8f61720355defb65bc}{websocketimpl\-::is\-Open} to know if websocket is openned or not 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{\index{websocketimpl@{websocketimpl}!set\-Debug@{set\-Debug}}
\index{set\-Debug@{set\-Debug}!websocketimpl@{websocketimpl}}
\subsubsection[{set\-Debug}]{\setlength{\rightskip}{0pt plus 5cm}void websocketimpl\-::set\-Debug (
\begin{DoxyParamCaption}
\item[{bool}]{debug}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}


\hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{websocketimpl\-::set\-Debug} set debug state for websocket decoder 


\begin{DoxyParams}{Parameters}
{\em debug\-Arg} & debug state \\
\hline
\end{DoxyParams}
\hypertarget{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{\index{websocketimpl@{websocketimpl}!set\-Debug@{set\-Debug}}
\index{set\-Debug@{set\-Debug}!websocketimpl@{websocketimpl}}
\subsubsection[{set\-Debug}]{\setlength{\rightskip}{0pt plus 5cm}void websocketimpl\-::set\-Debug (
\begin{DoxyParamCaption}
\item[{bool}]{debug\-Arg}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}


\hyperlink{classwebsocketimpl_a237efd210f7648c903f3044c1a8ff0c9}{websocketimpl\-::set\-Debug} set debug state for websocket decoder 


\begin{DoxyParams}{Parameters}
{\em debug\-Arg} & debug state \\
\hline
\end{DoxyParams}
\hypertarget{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{\index{websocketimpl@{websocketimpl}!set\-Open@{set\-Open}}
\index{set\-Open@{set\-Open}!websocketimpl@{websocketimpl}}
\subsubsection[{set\-Open}]{\setlength{\rightskip}{0pt plus 5cm}void websocketimpl\-::set\-Open (
\begin{DoxyParamCaption}
\item[{bool}]{open}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}


\hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{websocketimpl\-::set\-Open} set websocket opening state 


\begin{DoxyParams}{Parameters}
{\em open} & \\
\hline
\end{DoxyParams}
\hypertarget{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{\index{websocketimpl@{websocketimpl}!set\-Open@{set\-Open}}
\index{set\-Open@{set\-Open}!websocketimpl@{websocketimpl}}
\subsubsection[{set\-Open}]{\setlength{\rightskip}{0pt plus 5cm}void websocketimpl\-::set\-Open (
\begin{DoxyParamCaption}
\item[{bool}]{open}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}


\hyperlink{classwebsocketimpl_a6218fa898318685fc634da3931a6a879}{websocketimpl\-::set\-Open} set websocket opening state 


\begin{DoxyParams}{Parameters}
{\em open} & \\
\hline
\end{DoxyParams}
\hypertarget{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}{\index{websocketimpl@{websocketimpl}!unmask@{unmask}}
\index{unmask@{unmask}!websocketimpl@{websocketimpl}}
\subsubsection[{unmask}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Byte\-Array websocketimpl\-::unmask (
\begin{DoxyParamCaption}
\item[{Q\-Byte\-Array}]{masked\-Data, }
\item[{Q\-Byte\-Array}]{mask}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}
Unmask data payload according to algorithm described in websocket protocol rfc \par
 \par
 Octet i of the transformed data (\char`\"{}transformed-\/octet-\/i\char`\"{}) is the X\-O\-R of octet i of the original data (\char`\"{}original-\/octet-\/i\char`\"{}) with octet at index i modulo 4 of the masking key (\char`\"{}masking-\/key-\/octet-\/j\char`\"{})\-:

j = i M\-O\-D 4 transformed-\/octet-\/i = original-\/octet-\/i X\-O\-R masking-\/key-\/octet-\/j


\begin{DoxyParams}{Parameters}
{\em masked\-Data} & data masked (from client) \\
\hline
{\em mask} & mask id byte array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
unmasked data payload 
\end{DoxyReturn}
\hypertarget{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}{\index{websocketimpl@{websocketimpl}!unmask@{unmask}}
\index{unmask@{unmask}!websocketimpl@{websocketimpl}}
\subsubsection[{unmask}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Byte\-Array websocketimpl\-::unmask (
\begin{DoxyParamCaption}
\item[{Q\-Byte\-Array}]{masked\-Data, }
\item[{Q\-Byte\-Array}]{mask}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a796980528878c5d6279c96aa95ccefcb}
Unmask data payload according to algorithm described in websocket protocol rfc \par
 \par
 Octet i of the transformed data (\char`\"{}transformed-\/octet-\/i\char`\"{}) is the X\-O\-R of octet i of the original data (\char`\"{}original-\/octet-\/i\char`\"{}) with octet at index i modulo 4 of the masking key (\char`\"{}masking-\/key-\/octet-\/j\char`\"{})\-:

j = i M\-O\-D 4 transformed-\/octet-\/i = original-\/octet-\/i X\-O\-R masking-\/key-\/octet-\/j


\begin{DoxyParams}{Parameters}
{\em masked\-Data} & data masked (from client) \\
\hline
{\em mask} & mask id byte array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
unmasked data payload 
\end{DoxyReturn}
\hypertarget{classwebsocketimpl_a5ec440436383328244050d25afdf7ed6}{\index{websocketimpl@{websocketimpl}!websocket\-Parse@{websocket\-Parse}}
\index{websocket\-Parse@{websocket\-Parse}!websocketimpl@{websocketimpl}}
\subsubsection[{websocket\-Parse}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$std\-::string$>$ websocketimpl\-::websocket\-Parse (
\begin{DoxyParamCaption}
\item[{Q\-Tcp\-Socket $\ast$}]{socket}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_a5ec440436383328244050d25afdf7ed6}


\hyperlink{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{websocketimpl\-::websocket\-Parse} Websocket decoder state machine 


\begin{DoxyParams}{Parameters}
{\em socket} & websocket from which streaming is decoded \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{\index{websocketimpl@{websocketimpl}!websocket\-Parse@{websocket\-Parse}}
\index{websocket\-Parse@{websocket\-Parse}!websocketimpl@{websocketimpl}}
\subsubsection[{websocket\-Parse}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ string $>$ websocketimpl\-::websocket\-Parse (
\begin{DoxyParamCaption}
\item[{Q\-Tcp\-Socket $\ast$}]{socket}
\end{DoxyParamCaption}
)}}\label{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}


\hyperlink{classwebsocketimpl_ae5ae4cafabbff7ed2fab292e4ed1daf3}{websocketimpl\-::websocket\-Parse} Websocket decoder state machine 


\begin{DoxyParams}{Parameters}
{\em socket} & websocket from which streaming is decoded \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/abathur/\-Bureau/open\-\_\-source/websocketcpp/libwebsocket/protocol/websocket/websocketimpl.\-h\item 
/home/abathur/\-Bureau/open\-\_\-source/websocketcpp/libwebsocket/release/protocol/websocket/websocketimpl.\-h\item 
/home/abathur/\-Bureau/open\-\_\-source/websocketcpp/libwebsocket/protocol/websocket/websocketimpl.\-cpp\end{DoxyCompactItemize}
